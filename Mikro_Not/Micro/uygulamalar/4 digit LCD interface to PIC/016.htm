<html><head>


<meta name="GENERATOR" content="Microsoft FrontPage 5.0">
<meta name="ProgId" content="FrontPage.Editor.Document">
<meta http-equiv="Content-Type" content="text/html; charset=windows-1252"><title>016 - 4 digit LCD interface to PIC</title></head><body topmargin="0" leftmargin="5" alink="#0000ff" background="016_files/bg1.jpg" link="#0000ff" vlink="#0000ff">

  <table style="border-collapse: collapse;" id="AutoNumber1" border="0" bordercolor="#111111" cellpadding="0" cellspacing="0" height="37" width="100%">
  <tbody><tr>
  <td height="37" width="87%">
  <p align="left">
  <b><font color="#0099ff" face="Lucida Sans Unicode" size="4">4 digit LCD 
  interface to PIC</font></b></p></td>
  <td bgcolor="#ffffcc" height="37" width="13%">
  <p align="center"><font face="Lucida Sans Unicode">
  <a style="text-decoration: none; background-color: rgb(255, 255, 0);" href="http://www.techdesign.be/projects.htm"><font color="#0099ff">
  Projects </font>
  <font color="#3399ff">Home</font></a></font></p></td>
  </tr>
  </tbody></table>
  <table style="border-collapse: collapse;" id="AutoNumber2" border="0" bordercolor="#111111" cellpadding="0" cellspacing="0" width="100%">
  <tbody><tr>
  <td>
  &nbsp;</td>
  <td width="285">
  <p align="center">
  </p></td>
  </tr>
  </tbody></table>

<hr color="#0000ff" size="1">

  <table style="border-collapse: collapse;" id="AutoNumber4" border="0" bordercolor="#111111" cellspacing="1" height="207" width="100%">
  <tbody><tr>
  <td height="204" width="32%">
  <p align="center">
  <img src="016_files/003_lcd.JPG" border="0" height="173" width="324"></p></td>
  <td height="204" width="3%">
&nbsp;</td>
  <td height="204" width="100%">
<font face="Comic Sans MS" size="2">This is an interface for the
<a href="http://www.techdesign.be/projects/003/003.htm" style="text-decoration: none;">4 digit LCD module</a> 
which was published earlier.</font><p>The sample program included counts down 
from 1000 to -9999.</p>
<p>&nbsp;</p>
<p><b>Dp1, Dp2, minus and low battery</b> can be displayed seperately.</p>
<p>All parts are available in our
<a style="text-decoration: none;" href="http://www.techdesign.be/shop">online shop.</a></p>
<p>
<b>
<font color="#ff0000">Schematic&nbsp;(Eagle 4.11e), source code</font><font color="#ff0000" face="Lucida Sans Unicode" size="2"> 
(CCS)</font><font color="#ff0000"> and hex file available.</font></b></p></td>
  </tr>
  </tbody></table>

<hr color="#ff0000" size="1">

  <p align="justify"><font face="Lucida Sans Unicode"><b>
  <span style="background-color: rgb(255, 153, 0);">
  Circuit explanation:</span></b></font></p>

  <p align="justify"><font face="Lucida Sans Unicode" size="2">The <b>RS232</b> 
  link can be used to communicate with a pc (hyper terminal) and to upload new 
  software from a bootloader. See end of page for more...</font></p>

  <p align="justify"><font face="Lucida Sans Unicode" size="2">LED1 will flash 
  once when the circuit is powered on. It can be omitted, of course.</font></p>

  <p align="justify"><font face="Lucida Sans Unicode" size="2"><b>JP1</b> is the 
  14-pins header which connects to the
  <a href="http://www.techdesign.be/projects/003/003.htm" style="text-decoration: none;">LCD module.</a></font></p>

<hr color="#ffff00" size="1">

  <table style="border-collapse: collapse;" id="AutoNumber14" border="0" bordercolor="#111111" cellpadding="0" cellspacing="0" height="129" width="100%">
  <tbody><tr>
  <td height="46" width="100%">
  <p align="left"><font face="Lucida Sans Unicode"><b>
  <span style="background-color: rgb(255, 153, 0);">Schematic:</span> </b></font><b><font face="Lucida Sans Unicode" size="2"> right-click &amp; "save picture as" for 
full resolution or (recommended) download the eagle-file below.</font></b></p></td>
  </tr>
  <tr>
  <td height="82" width="100%">
  <img src="016_files/016_sch.gif" border="0" height="622" width="974"></td>
  </tr>
  </tbody></table>

<hr color="#ff0000" size="1">

  <p><font face="Lucida Sans Unicode">
  <span style="font-weight: 700; background-color: rgb(255, 153, 0);">
  <style="text-decoration: none="">
  <font color="#000000">Part List (Bill of material)</font>:</style="text-decoration:></span> </font>
  <font face="Times New Roman" size="4">
  <a href="http://www.techdesign.be/projects/016/016_bom.htm" style="text-decoration: none;">here.</a></font></p>

<hr color="#ffff00" size="1">

  <p><font face="Lucida Sans Unicode">
  <span style="font-weight: 700; background-color: rgb(255, 153, 0);">
  <style="text-decoration: none=""><font color="#000000">
  Main component list &amp; interconnections</font>:</style="text-decoration:></span></font></p>
  <table style="border-collapse: collapse;" id="AutoNumber21" border="0" bordercolor="#111111" cellpadding="0" cellspacing="0" height="221" width="996">
  <tbody><tr>
  <td height="201" width="62">
  &nbsp;</td>
  <td height="201" width="651">
  <table style="border-collapse: collapse;" id="AutoNumber26" border="1" bordercolor="#111111" cellpadding="0" cellspacing="0" height="182" width="480">
    <tbody><tr>
      <td align="center" bgcolor="#ffffcc" height="19" width="106"><b>
      P1 PINHEAD</b></td>
      <td align="center" bgcolor="#ffffcc" height="19" width="129"><b>PIC 18F452</b></td>
      <td align="center" bgcolor="#ffffff" height="19" width="5">&nbsp;</td>
      <td align="center" bgcolor="#ffffcc" height="19" width="105"><b>
      P1 PINHEAD</b></td>
      <td align="center" bgcolor="#ffffcc" height="19" width="129"><b>PIC18F452</b></td>
      </tr>
    <tr>
      <td bgcolor="#ffffcc" height="1" width="106">&nbsp;</td>
      <td bgcolor="#ffffcc" height="1" width="129">&nbsp;</td>
      <td bgcolor="#ffffff" height="1" width="5">&nbsp;</td>
      <td bgcolor="#ffffcc" height="1" width="105">&nbsp;</td>
      <td bgcolor="#ffffcc" height="1" width="129">&nbsp;</td>
      </tr>
    <tr>
      <td bgcolor="#ffffcc" height="19" width="106">&nbsp;1= GND </td>
      <td bgcolor="#ffffcc" height="19" width="129">&nbsp;GND, pin12, 31</td>
      <td bgcolor="#ffffff" height="19" width="5">&nbsp;</td>
      <td bgcolor="#ffffcc" height="19" width="105">&nbsp;2= +5v</td>
      <td bgcolor="#ffffcc" height="19" width="129">&nbsp;VDD, pin11, 32</td>
      </tr>
    <tr>
      <td bgcolor="#ffffcc" height="19" width="106">&nbsp;3= NC&nbsp;&nbsp; </td>
      <td bgcolor="#ffffcc" height="19" width="129">&nbsp;</td>
      <td bgcolor="#ffffff" height="19" width="5">&nbsp;</td>
      <td bgcolor="#ffffcc" height="19" width="105">&nbsp;4= !CS,!WR</td>
      <td bgcolor="#ffffcc" height="19" width="129">&nbsp;RE0, pin8</td>
      </tr>
    <tr>
      <td bgcolor="#ffffcc" height="19" width="106">&nbsp;5= DATA0&nbsp; </td>
      <td bgcolor="#ffffcc" height="19" width="129">&nbsp;RD0, pin19</td>
      <td bgcolor="#ffffff" height="19" width="5">&nbsp;</td>
      <td bgcolor="#ffffcc" height="19" width="105">&nbsp;6= digit sel 2</td>
      <td bgcolor="#ffffcc" height="19" width="129">&nbsp;RE2, pin10</td>
      </tr>
    <tr>
      <td bgcolor="#ffffcc" height="23" width="106">&nbsp;7= DATA1&nbsp; </td>
      <td bgcolor="#ffffcc" height="23" width="129">&nbsp;RD1, pin20</td>
      <td bgcolor="#ffffff" height="23" width="5">&nbsp;</td>
      <td bgcolor="#ffffcc" height="23" width="105">&nbsp;8= digit sel 1</td>
      <td bgcolor="#ffffcc" height="23" width="129">&nbsp;RE1, pin9</td>
      </tr>
    <tr>
      <td bgcolor="#ffffcc" height="19" width="106">&nbsp;9= DATA2&nbsp; </td>
      <td bgcolor="#ffffcc" height="19" width="129">&nbsp;RD2, pin21</td>
      <td bgcolor="#ffffff" height="19" width="5">&nbsp;</td>
      <td bgcolor="#ffffcc" height="19" width="105">&nbsp;10= BATT</td>
      <td bgcolor="#ffffcc" height="19" width="129">&nbsp;RD7, pin30</td>
      </tr>
    <tr>
      <td bgcolor="#ffffcc" height="19" width="106">&nbsp;11= DATA3&nbsp; </td>
      <td bgcolor="#ffffcc" height="19" width="129">&nbsp;RD3, pin22</td>
      <td bgcolor="#ffffff" height="19" width="5">&nbsp;</td>
      <td bgcolor="#ffffcc" height="19" width="105">&nbsp;12= MINUS</td>
      <td bgcolor="#ffffcc" height="19" width="129">&nbsp;RD6, pin29</td>
      </tr>
    <tr>
      <td bgcolor="#ffffcc" height="19" width="106">&nbsp;13= DP1&nbsp;&nbsp; </td>
      <td bgcolor="#ffffcc" height="19" width="129">&nbsp;RD4, pin27</td>
      <td bgcolor="#ffffff" height="19" width="5">&nbsp;</td>
      <td bgcolor="#ffffcc" height="19" width="105">&nbsp;14= DP2</td>
      <td bgcolor="#ffffcc" height="19" width="129">&nbsp;RD5, pin28</td>
      </tr>
    <tr>
      <td bgcolor="#ffffcc" height="19" width="106">&nbsp;</td>
      <td bgcolor="#ffffcc" height="19" width="129">&nbsp;</td>
      <td bgcolor="#ffffff" height="19" width="5">&nbsp;</td>
      <td bgcolor="#ffffcc" height="19" width="105">&nbsp;</td>
      <td bgcolor="#ffffcc" height="19" width="129">&nbsp;</td>
      </tr>
  </tbody></table>
  </td>
  <td height="201" width="283">
  &nbsp;</td>
  <td height="201" width="661">
  <table style="border-collapse: collapse;" id="AutoNumber23" border="1" bordercolor="#111111" cellpadding="0" cellspacing="0" width="100%">
  <tbody><tr>
  <td colspan="2" align="center" bgcolor="#ffffcc" width="100%"><b>
  <font size="4">Power consumption</font></b></td>
  </tr>
  <tr>
  <td align="center" bgcolor="#ffffcc" width="61%">&nbsp;</td>
  <td align="center" bgcolor="#ffffcc" width="39%">&nbsp;</td>
  </tr>
  <tr>
  <td align="center" bgcolor="#ffffcc" width="61%"><b>Mode</b></td>
  <td align="center" bgcolor="#ffffcc" width="39%"><b>current @ 5V</b></td>
  </tr>
  <tr>
  <td align="center" bgcolor="#ffffcc" width="61%">&nbsp;</td>
  <td align="center" bgcolor="#ffffcc" width="39%">&nbsp;</td>
  </tr>
  <tr>
  <td align="center" bgcolor="#ffffcc" width="61%">Sleep (LCD remains ON)</td>
  <td align="center" bgcolor="#ffffcc" width="39%">1,1 mA</td>
  </tr>
  <tr>
  <td align="center" bgcolor="#ffffcc" width="61%">Operating</td>
  <td align="center" bgcolor="#ffffcc" width="39%">&nbsp;2,6 mA</td>
  </tr>
  <tr>
  <td align="center" bgcolor="#ffffcc" width="61%">&nbsp;</td>
  <td align="center" bgcolor="#ffffcc" width="39%">&nbsp;</td>
  </tr>
  <tr>
  <td align="center" bgcolor="#ffffcc" width="61%">&nbsp;</td>
  <td align="center" bgcolor="#ffffcc" width="39%">&nbsp;</td>
  </tr>
  </tbody></table>
  </td>
  </tr>
  <tr>
  <td height="19" width="62">&nbsp;</td>
  <td height="19" width="651">&nbsp;</td>
  <td height="19" width="283">&nbsp;</td>
  <td height="19" width="661">&nbsp;</td>
  </tr>
  </tbody></table>

<hr color="#0000ff" size="1">

  <p><span style="font-weight: 700; background-color: rgb(255, 153, 0);">
  <font face="Lucida Sans Unicode">Available c routines</font></span><font face="Lucida Sans Unicode"><span style="background-color: rgb(255, 153, 0); font-weight: 700;">: 
  (ccs compiler)</span></font></p>

  <table style="border-collapse: collapse;" id="AutoNumber24" bgcolor="#ffffcc" border="1" cellpadding="0" cellspacing="0" height="145" width="100%">
  <tbody><tr>
  <td align="center" height="20" width="27%"><font size="4"><b>r</b></font><b><font size="4">outine</font></b></td>
  <td align="center" height="20" width="24%"><b><font size="4">ccs c example</font></b></td>
  <td align="center" height="20" width="49%"><font size="4"><b>e</b></font><b><font size="4">xplanation</font></b></td>
  </tr>
  <tr>
  <td align="center" height="19" width="27%">&nbsp;</td>
  <td align="center" height="19" width="24%">&nbsp;</td>
  <td align="center" height="19" width="49%">&nbsp;</td>
  </tr>
  <tr>
  <td align="center" height="19" width="27%">&nbsp;</td>
  <td align="center" height="19" width="24%">&nbsp;</td>
  <td align="center" height="19" width="49%">&nbsp;</td>
  </tr>
  <tr>
  <td align="center" height="19" width="27%">void lcd_4digit(signed int16 lcd_value);</td>
  <td align="center" height="19" width="24%">lcd_4digit(d);</td>
  <td align="center" height="19" width="49%">displays the value of lcd_value 
  (-9999 to 9999)</td>
  </tr>
  <tr>
  <td align="center" height="19" width="27%">&nbsp;</td>
  <td align="center" height="19" width="24%">&nbsp;</td>
  <td align="center" height="19" width="49%">&nbsp;</td>
  </tr>
  <tr>
  <td align="center" height="19" width="27%">&nbsp;</td>
  <td align="center" height="19" width="24%">&nbsp;</td>
  <td align="center" height="19" width="49%">&nbsp;</td>
  </tr>
  <tr>
  <td align="center" height="26" width="27%">&nbsp;</td>
  <td align="center" height="26" width="24%">&nbsp;</td>
  <td align="center" height="26" width="49%">&nbsp;</td>
  </tr>
  </tbody></table>

<hr color="#ffff00" size="1">

  <p align="left">
  <b><font face="Lucida Sans Unicode"><span style="background-color: rgb(255, 153, 0);">
  Downloads:</span></font></b></p><p align="left">
  &nbsp;</p><p align="center"><font color="#ff9900" face="Lucida Sans Unicode" size="2"><b><span style="background-color: rgb(255, 255, 204);">&nbsp;WARNING:
</span> </b><span style="background-color: rgb(255, 255, 204);">may not be 
duplicated for any commercial use whatsoever without explicit consent from the 
  author </span></font>
  <a style="text-decoration: none;" href="mailto:info@techdesign.be?subject=016%20-%204%20digit%20LCD%20interface%20to%20PIC">(c)
<font color="#0000ff">Michel Bavin</font></a></p>

  <p align="center">&nbsp;</p>

  <table style="border-collapse: collapse;" id="AutoNumber20" border="0" bordercolor="#0000ff" cellpadding="0" cellspacing="0" height="108" width="100%">
  <tbody><tr>
  <td height="36" width="100%">
  <font face="Lucida Sans Unicode" size="2">
  <u>
  <b>
Hex file:</b></u> <b>
  <a style="text-decoration: none;" href="http://home.scarlet.be/%7Emb069957/projects/016/016_01_hex.zip">016_01_hex.zip</a></b>,&nbsp; 
  September  27, 2004: <b>016_01.hex</b> (to program the PIC) <b>&nbsp;</b></font></td>
  </tr>
  <tr>
  <td height="36" width="100%">

<p align="left"><font face="Lucida Sans Unicode" size="2">
<u>
<b>
Source code</b>:</u> <b>
<a style="text-decoration: none;" href="http://home.scarlet.be/%7Emb069957/projects/016/016_01_c.zip">
016_01_c.zip</a> </b>
(CCS compiler),&nbsp;September  27, 2004 : <b>016_01.c</b>&nbsp;

</font></p>

  </td>
  </tr>
  <tr>
  <td height="36" width="100%"><font face="Lucida Sans Unicode" size="2">
  <u>
<b>
Schematic:</b></u> </font><b><font face="Lucida Sans Unicode" size="2"><a style="text-decoration: none;" href="http://home.scarlet.be/%7Emb069957/projects/016/016_sch.zip">016_sch.zip</a></font></b><font face="Lucida Sans Unicode" size="2">
(Eagle 4.11e), September 27, 2004: <b>016_01.sch</b></font></td>
  </tr>
  </tbody></table>

<hr color="#0000ff" size="1">

<p><font face="Lucida Sans Unicode"><b><span style="background-color: rgb(255, 153, 0);">Info &amp; datasheet:</span></b></font></p>

  <table style="border-collapse: collapse;" id="AutoNumber25" border="0" bordercolor="#111111" cellpadding="0" cellspacing="0" height="5" width="100%">
    <tbody><tr>
      <td height="11" width="71%"></td>
      <td rowspan="3" height="1" width="29%">
      <p align="center">
      </p></td>
    </tr>
    <tr>
      <td height="1" width="71%">
      </td>
    </tr>
    <tr>
      <td height="19" width="71%">&nbsp;</td>
    </tr>
    </tbody></table>

<hr style="background-color: rgb(255, 255, 0);" color="#ffff00" size="1">

<p><b><font face="Lucida Sans Unicode"><span style="background-color: rgb(255, 153, 0);">
Tools:</span></font></b></p>

<p><font face="Lucida Sans Unicode" size="2">This project is made with the PCWH
<a href="http://www.ccsinfo.com/pcwide.shtml" style="text-decoration: none;">CCS 
compiler </a>($500,-) You can install Microchip's free
<a style="text-decoration: none;" href="http://www.microchip.com/1010/pline/tools/picmicro/devenv/mplabi/mplab6/index.htm">
MPLAB IDE</a> with it to get things going smoothly. </font></p>

<p><font face="Lucida Sans Unicode" size="2">Programming of the PIC was done with 
the excellent
<a href="http://www.etc.ugal.ro/cchiculita/software/picbootloader.htm" style="text-decoration: none;">Tiny PIC bootloader</a>, through the RC6 &amp; RC7 pins. But you'll need a regular
<a href="http://www.techdesign.be/projects/004/004.htm" style="text-decoration: none;">PIC programmer</a> to 
write the PIC the first time with though...</font></p>

<p><font face="Lucida Sans Unicode" size="2"><font color="#0000ff">
<a href="http://www.cadsoft.de/" style="text-decoration: none;">Eagle 4.11</a>e</font> 
was used for the schematic &amp; PCB layout.&nbsp;  </font></p>

<hr color="#ff0000" size="1">

<p align="center"><font face="Lucida Sans Unicode">
<a style="text-decoration: none; background-color: rgb(255, 255, 0);" href="http://www.techdesign.be/projects.htm">Projects Home</a></font></p>


<p align="center">&nbsp;</p>


</body></html>